# 도커 이미지와 컨테이너

## 1. 이미지와 컨테이너의 관계

### 1.1. 기본 개념
이미지는 컨테이너를 생성하기 위한 템플릿 역할을 합니다. 마치 건축물을 짓기 위한 설계도와 같습니다. 실제로 사용자가 상호작용하고 애플리케이션이 실행되는 것은 컨테이너이며, 이미지는 이러한 컨테이너를 만들기 위한 기반이 됩니다. 따라서 이미지는 직접적으로 사용되는 것이 아니라, 컨테이너를 만들기 위한 용도로 활용됩니다.

### 1.2. 컨테이너와 이미지 변환
실행 중인 컨테이너의 현재 상태를 스냅샷처럼 저장하여 새로운 이미지로 만들 수 있습니다. 이는 여러 컨테이너의 설정을 일괄적으로 수정하거나, 특정 시점의 컨테이너 상태를 보존해야 할 때 유용합니다. 또한, 이미지를 통해 동일한 설정을 가진 컨테이너를 여러 개 복제하여 빠르게 환경을 구축할 수 있습니다.

## 2. 도커 엔진 간 이동

### 2.1. 이동 원리
도커 엔진이 설치된 서로 다른 서버 간에도 컨테이너를 이동할 수 있습니다. 하지만 실제로 컨테이너 자체를 직접 이동시키는 것이 아니라, 컨테이너를 생성하는 데 사용된 이미지를 이동시키는 방식을 사용합니다. 이동하려는 컨테이너의 이미지를 새로운 서버로 옮겨, 그 이미지로부터 동일한 컨테이너를 생성하는 것입니다.

### 2.2. 이미지 배포
도커 이미지는 도커 허브와 같은 공용 또는 사설 레지스트리를 통해 쉽게 공유하고 배포할 수 있습니다. 도커 허브는 공식적인 도커 이미지 저장소로, 다양한 오픈소스 프로젝트나 기업에서 제공하는 이미지를 찾아 사용할 수 있습니다. 이는 마치 스마트폰 앱을 다운로드하는 구글 플레이스토어와 유사한 개념으로, 사용자는 필요한 이미지를 검색하고 다운로드하여 컨테이너를 실행할 수 있습니다.

## 3. 안전한 도커 사용법

### 3.1. 이미지 선택
안전한 도커 사용을 위해서는 신뢰할 수 있는 이미지를 선택하는 것이 중요합니다. 공식 도커 이미지를 사용하는 것이 가장 권장되며, 검증된 기업이나 조직에서 제공하는 이미지를 사용하는 것도 좋은 방법입니다. 이미지를 선택하기 전에 해당 이미지의 운영체제 및 버전이 사용 환경과 호환되는지 확인하는 것이 필요합니다.

### 3.2. 컨테이너 운영 원칙
하나의 컨테이너에는 하나의 프로그램만 실행하는 것을 원칙으로 하는 것이 좋습니다. 이는 보안적인 측면뿐만 아니라 유지보수 측면에서도 유리합니다. 각 컨테이너가 독립된 환경에서 작동하므로, 특정 컨테이너의 문제 발생이 다른 컨테이너에 미치는 영향을 최소화할 수 있습니다. 또한, 이러한 구조는 애플리케이션의 업데이트나 유지보수를 더욱 용이하게 만들어줍니다.