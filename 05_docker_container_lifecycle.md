# 도커 컨테이너 생명주기 관리

## 1. 컨테이너 생성 및 실행

### 1.1. `docker run` 명령어

`docker run` 명령어는 도커 이미지를 기반으로 컨테이너를 생성하고 실행하는 데 사용됩니다. `docker image pull`, `docker container create`, `docker container start` 명령어를 한 번에 실행하는 것과 같습니다.

docker run [옵션] 이미지 [인자]
docker container run [옵션] 이미지 [인자]

**주요 옵션:**

| 옵션 | 설명 |
|:--|:--|
| `--name 컨테이너_이름` | 컨테이너의 이름을 지정합니다. |
| `-p 호스트_포트:컨테이너_포트` | 호스트와 컨테이너의 포트를 연결합니다 (`--publish`의 단축 형태). |
| `-v 호스트_경로:컨테이너_경로` | 호스트의 디렉토리 또는 파일을 컨테이너에 마운트합니다 (`--volume`의 단축 형태). |
| `--net=네트워크_이름` | 컨테이너를 특정 네트워크에 연결합니다. |
| `-e 환경변수=값` | 컨테이너 내에서 사용할 환경 변수를 설정합니다 (`--env`의 단축 형태). |
| `-d` | 컨테이너를 백그라운드(detached) 모드로 실행합니다 (`--detach`의 단축 형태). |
| `-i` | 표준 입력(STDIN)을 컨테이너에 연결합니다 (`--interactive`의 단축 형태). |
| `-t` | 가상 터미널(TTY)을 할당합니다 (`--tty`의 단축 형태). |
| `-dit` | `-d`, `-i`, `-t` 옵션을 모두 활성화하여 백그라운드에서 터미널과 상호작용 가능한 컨테이너를 실행합니다. |
| `-help` | `docker run` 명령어의 사용법을 출력합니다. |

**인자:**

이미지에 따라 컨테이너에 전달할 수 있는 인자가 다릅니다. 예를 들어 MySQL 이미지의 경우 초기 사용자 이름이나 비밀번호 등을 인자로 전달할 수 있습니다.

### 1.2. 한 번만 실행되는 컨테이너와 데몬 컨테이너

컨테이너는 실행되는 방식에 따라 한 번만 실행되는 컨테이너와 데몬 형태로 동작하는 컨테이너로 나눌 수 있습니다.

* **한 번만 실행되는 컨테이너:** 특정 작업을 수행하고 종료되는 컨테이너입니다. `-d`, `-i`, `-t` 옵션 없이 실행하는 경우가 많습니다.
* **데몬 컨테이너:** 백그라운드에서 지속적으로 실행되는 컨테이너입니다. 웹 서버, 데이터베이스 서버 등이 대표적이며, 일반적으로 `-d` 옵션과 함께 실행됩니다. 필요에 따라 `-i`, `-t` 옵션을 사용하여 컨테이너 내부로 접속할 수 있습니다.

## 2. 컨테이너 정지

### 2.1. `docker stop` 명령어

`docker stop` 명령어는 실행 중인 컨테이너를 안전하게 정지시키는 데 사용됩니다.

docker stop 컨테이너_이름
docker container stop 컨테이너_이름

## 3. 컨테이너 삭제

### 3.1. `docker rm` 명령어

`docker rm` 명령어는 정지된 컨테이너를 삭제하는 데 사용됩니다. 실행 중인 컨테이너는 삭제할 수 없으므로 먼저 `docker stop` 명령어로 정지해야 합니다.

docker rm 컨테이너_이름
docker container rm 컨테이너_이름

## 4. 컨테이너 목록 확인

### 4.1. `docker ps` 명령어

`docker ps` 명령어는 현재 실행 중인 컨테이너의 목록을 보여줍니다.
docker ps [옵션]

**주요 옵션:**

* `-a`: 실행 중인 컨테이너뿐만 아니라 모든 컨테이너(정지된 컨테이너 포함)의 목록을 보여줍니다.

**출력 정보:**

`docker ps` 명령어를 실행하면 다음과 같은 정보를 확인할 수 있습니다.

| 항목 | 설명 |
|:--|:--|
| `CONTAINER ID` | 컨테이너의 고유한 식별자입니다. |
| `IMAGE` | 컨테이너를 생성하는 데 사용된 이미지의 이름입니다. |
| `COMMAND` | 컨테이너가 시작될 때 실행되는 명령어입니다. |
| `CREATED` | 컨테이너가 생성된 후 경과된 시간입니다. |
| `STATUS` | 컨테이너의 현재 상태를 나타냅니다 (`Up`: 실행 중, `Exited`: 종료됨 등). |
| `PORTS` | 컨테이너에 할당된 포트와 호스트에 연결된 포트 정보를 보여줍니다 (`호스트_포트 -> 컨테이너_포트`). |
| `NAMES` | 컨테이너의 이름입니다. |

**실행 예시:**

* 현재 실행 중인 컨테이너 목록 보기:
docker ps

* 모든 컨테이너 목록 보기 (정지된 컨테이너 포함):
docker ps -a