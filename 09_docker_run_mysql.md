# 09_MySQL 컨테이너 실행

이번에는 도커를 이용하여 MySQL 데이터베이스 컨테이너를 실행하는 방법에 대해 알아보겠습니다. MySQL 컨테이너를 실행할 때는 데이터베이스의 루트 비밀번호와 같은 중요한 설정들을 환경 변수를 통해 지정할 수 있습니다.

## 1. MySQL 컨테이너 실행

다음 명령어를 사용하여 `my-mysql`이라는 이름의 MySQL 컨테이너를 생성하고 실행합니다.

```bash
docker run --name my-mysql -dit -e MYSQL_ROOT_PASSWORD=myrootpass mysql

옵션 설명:

--name my-mysql: 생성될 컨테이너의 이름을 my-mysql로 지정합니다. 이렇게 이름을 지정하면 컨테이너를 관리하거나 참조할 때 편리하게 사용할 수 있습니다.

-dit: 세 가지 옵션을 결합한 것으로, 컨테이너를 백그라운드에서 실행(-d)하고, 컨테이너의 표준 입력을 유지(-i)하며, 가상 터미널을 할당(-t)합니다. -dit와 -itd는 옵션의 순서만 다를 뿐 동일한 기능을 수행합니다. 즉, 컨테이너를 백그라운드에서 실행하면서도 필요에 따라 터미널을 통해 컨테이너 내부의 파일 시스템을 조작할 수 있도록 설정합니다.

-e MYSQL_ROOT_PASSWORD=myrootpass: 환경 변수를 설정하는 옵션입니다. 여기서는 MYSQL_ROOT_PASSWORD라는 환경 변수에 myrootpass라는 값을 할당합니다. 이는 MySQL 컨테이너의 루트 사용자 비밀번호를 설정하는 데 사용됩니다.

mysql: 사용할 이미지의 이름입니다. 별도의 태그(버전)를 지정하지 않았으므로 도커는 자동으로 최신 버전(latest)의 MySQL 이미지를 다운로드하여 사용합니다.

이 명령어는 MySQL 이미지를 기반으로 my-mysql이라는 이름의 컨테이너를 생성하고, 루트 비밀번호를 myrootpass로 설정한 후 백그라운드에서 실행합니다.

2. 컨테이너 실행 상태 확인
docker ps 명령어를 사용하여 my-mysql 컨테이너가 정상적으로 실행 중인지 확인할 수 있습니다.

docker ps
실행 결과에서 my-mysql이라는 이름의 컨테이너가 목록에 나타나고, STATUS 항목의 값이 Up으로 표시되면 컨테이너가 성공적으로 실행 중인 것입니다.

3. 컨테이너 정지
실행 중인 my-mysql 컨테이너를 정지하려면 다음 명령어를 사용합니다.

docker stop my-mysql
docker stop 명령어는 컨테이너에 정상 종료 신호를 보내 컨테이너 내부의 프로세스를 안전하게 종료합니다.

4. 컨테이너 삭제
컨테이너를 삭제하기 전에 먼저 정지해야 합니다. 정지된 my-mysql 컨테이너를 삭제하려면 다음 명령어를 사용합니다.

docker rm my-mysql

docker rm 명령어는 지정된 컨테이너를 완전히 삭제하며, 컨테이너와 관련된 모든 리소스가 제거됩니다.

5. 컨테이너 삭제 확인
docker ps -a 명령어를 사용하여 my-mysql 컨테이너가 성공적으로 삭제되었는지 확인할 수 있습니다.

docker ps -a
실행 결과에서 my-mysql 컨테이너가 목록에 나타나지 않으면 컨테이너가 성공적으로 삭제된 것입니다.

6. 추가적인 MySQL 설정
MySQL 컨테이너를 실행할 때 루트 비밀번호 외에도 문자 인코딩 방식이나 데이터 정렬 순서와 같은 추가적인 설정을 환경 변수를 통해 지정할 수 있습니다. 이는 데이터베이스의 사용 목적과 환경에 맞춰 컨테이너를 보다 세밀하게 구성하는 데 도움이 됩니다. 이러한 설정은 -e 옵션을 추가하여 지정할 수 있으며, MySQL 이미지의 공식 문서를 참고하여 다양한 설정 옵션을 활용할 수 있습니다.